<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Web-Paint</title>
    <!--
    Included style sheets
        1) Bootstrap
        2) Awesome font
        3) Custom
    -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link  rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css"
           integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp"
           crossorigin="anonymous">
    <link href="assets/css/paint_styles.css" rel="stylesheet">
    <!--
    Included Scripts
        1) JQuery
        2) Bootstrap
        3) Sortable List
        4) UI
    -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="https://raw.githack.com/SortableJS/Sortable/master/Sortable.js"></script>
    <script src="https://code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
</head>
<body>

    <!-- Navigation bar -->
    <nav id="main-nav" class="navbar navbar-default navbar-fixed-top">
        <div class="container-fluid">
            <!-- Shapes -->
            <ul id="shape-list" class="nav navbar-nav">
                <li class="active" data-shape="rectangle">
                    <a>
                        <i class="far fa-square"></i>
                    </a>
                </li>
                <li data-shape="lineList">
                    <a>
                        <span class="glyphicon glyphicon-pencil"></span>
                    </a>
                </li>
                <!--li data-shape="text">
                    <a>
                        <span class="glyphicon glyphicon-tint"></span>
                    </a>
                </li-->
                <!--
                <li data-shape="move">
                    <a>
                        <span class="glyphicon glyphicon-move"></span>
                    </a>
                </li>
                -->
            </ul>
            <!-- Settings -->
            <ul id="settings-list" class="nav navbar-nav">
                <li>
                    <a>
                        <input id="color-selector" type="color" list="presetColors">
                        <datalist id="presetColors">
                            <option>#000000</option>/>
                            <option>#ff0000</option>
                            <option>#00ff00</option>
                            <option>#0000ff</option>
                        </datalist>
                    </a>
                </li>
                <li>
                    <a data-toggle="modal" data-target="#object-modal">
                        <span class="glyphicon glyphicon-cloud-upload"></span>
                    </a>
                </li>
                <li>
                    <a data-toggle="modal" data-target="#size-modal">
                        <i class="fas fa-ruler-combined"></i>
                    </a>
                </li>
                <li>
                    <a id="fill-toggle" data-filled="no">
                        <i class="far fa-star"></i>
                    </a>
                </li>
            </ul>
            <!-- IO -->
            <ul id="io-list" class="nav navbar-nav">
                <!--
                <li>
                    <a id="img-save">
                        <span class="glyphicon glyphicon-download"></span>
                    </a>
                </li>
                -->
                <li>
                    <a id="img-load">
                        <span class="glyphicon glyphicon-upload"></span>
                    </a>
                </li>
                <li>
                    <a id="img-clear">
                        <i class="fas fa-file"></i>
                    </a>
                </li>
            </ul>
            <!-- Undo + Redo -->
            <ul id="time-travel" class="nav navbar-nav">
                <li>
                    <a id="btn-undo">
                        <i class="fas fa-undo"></i>
                    </a>
                </li>
                <li>
                    <a id="btn-redo">
                        <i class="fas fa-redo"></i>
                    </a>
                </li>
            </ul>
        </div>
    </nav>

    <!-- Canvas -->
    <div class="container-fluid" id="maincanvas">
        <div class="col-xs-5">
            <canvas id="canvas" width=600 height=480>
                Your browser does not support canvas :(
            </canvas>
        </div>
        <div class="col-xs-5">
            <canvas id="canvasres" width=600 height=480>
                Your browser does not support canvas :(
            </canvas>
        </div>
        <div class="col-xs-2">
            <div class = "table-wrapper-scroll-y my-custom-scrollbar">
                <table class="table table-bordered table-striped mb-0" id="layer-table">
                    <thead>
                        <tr>
                            <th scope="col">#</th>
                            <th scope="col">Layer</th>
                            <th scope="col">Image</th>
                            <th scope="col"></th>
                        </tr>
                    </thead>
                    <tbody>
                        <!--tr>
                            <th scope="row">1</th>
                            <td>
                                <span title="#FF0000">
                                    <div class="box" style="background-color:#FF0000"></div>
                                </span>
                            </td>
                            <td>
                                <img src="http://placehold.it/50">
                            </td>
                        </tr-->
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    <div class="container-fluid">
        <div class="col-xs-5">

        </div>
        <div class="col-xs-5 text-center">
            <button type="button" class="btn btn-default" id="request-process">Postprocess!</button>
        </div>
        <div class="col-xs-2">

        </div>
    </div>

    <!-- Hidden modal for size adjustments -->
    <div id="size-modal" class="modal fade" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close abort" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title">Modify sizes</h4>
                </div>
                <div class="modal-body">
                    <table class="table" id="size-table">
                        <tbody>
                            <tr id="font-row" data-value="12pt">
                                <td>Font size</td>
                                <td>
                                    <a class="decrease">
                                        <i class="fas fa-minus"></i>
                                    </a>
                                </td>
                                <td class="value-data">12pt</td>
                                <td>
                                    <a class="increase">
                                        <i class="fas fa-plus"></i>
                                    </a>
                                </td>
                            </tr>
                            <tr id="width-row" data-value="1">
                                <td>Line width</td>
                                <td>
                                    <a class="decrease">
                                        <i class="fas fa-minus"></i>
                                    </a>
                                </td>
                                <td class="value-data">1</td>
                                <td>
                                    <a class="increase">
                                        <i class="fas fa-plus"></i>
                                    </a>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default abort" data-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-default confirm" data-dismiss="modal">Confirm</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Hidden modal for object selection -->
    <div id="object-modal" class="modal fade" role="dialog" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="modal-label">Please select object</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="dropdown">
                        <button class="btn btn-default dropdown-toggle" type="button" id="selected-object" data-toggle="dropdown">
                            Select object
                        <span class="caret"></span></button>
                        <ul class="dropdown-menu" role="menu" aria-labelledby="menu1" id="object-list">
                          <li role="presentation"><a role="menuitem" tabindex="-1" href="#">Loading...</a></li>
                        </ul>
                    </div>
                </div>
                <div class="modal-body">
                    <div class="container horizontal-scrollable"> 
                        <fieldset class="row" id="object-images">
                            
                        </fieldset>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary" id="upload-background">Set as Background</button>
                    <button type="button" class="btn btn-primary" id="upload-image">Select</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Hidden modal for post-processed image -->
    <div id="postprocess-modal" class="modal fade" role="dialog" aria-hidden="true">
        <div class="modal-dialog" role="document" style="width:700px;">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Processed result</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body text-center">
                    <img src="" class="checkered" id="processed-image"/>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Hidden modal for adjusting setting for each layer -->
    <div id="layer-setting-modal" class="modal fade" role="dialog" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Layer setting</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body text-center">
                    Level
                    <input type="range" min="0" max="5" value="1" class="slider" id="level-slider">
                    BI
                    <input type="range" min="0" max="1" value="0" class="slider" id="bi-slider">
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary" id="save-layer-setting">Save</button>
                </div>
            </div>
        </div>
    </div>
</div>

    <!-- Scripts for canvas -->
    <script src="assets/js/shapes.js"></script>
    <script src="assets/js/draw.js"></script>
</body>
